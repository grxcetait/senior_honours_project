\section{Week 2: 19th - 25 January 2026}

\subsection{Monday 19th January 2026}

Between meeting 1 last Tuesday and meeting 2 this Thursday, I want to have completed the tasks set by Zhaoting and have set up everything I need for this project so workflow is seamless. This will take a while to set up initially (because I am not completely familiar with GitHub) but will serve me well when I am doing my final report write-up and doing my Masters project next year.

\subsubsection{Plan for this week before Thursday meeting:}

\begin{itemize}
    \item Read over papers and make notes on anything unfamiliar
    \end{itemize}
    \begin{itemize}
    \item Run cookbook files
    \item Complete notebook 1 task
    \item Set up GitHub repository
    \item Start writing in lab book
    \end{itemize}

\subsection{Tuesday 20th January 2026}

\begin{itemize}
\item Read over the 3 papers from the project description and made notes on anything unfamiliar.
\end{itemize}
\begin{itemize}
    \item So far, only read abstracts and introductions. I've been highlighting and annotating the downloaded copy on GoodNotes.
    \item Need to still read conclusions and everything else and also write down summaries of the papers.
\end{itemize}
\begin{itemize}
    \item Started to set up a GitHub repository
        \begin{itemize}
            \item Created repository
        \end{itemize}
\end{itemize}
\begin{itemize}
    \begin{itemize}
        \item Cloned it to terminal
    \end{itemize}
\end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Linked Overleaf account and created document and sections for lab book (so any outputs from code is easily accessible for Overleaf and I don't have to keep downloading images etc. and everything is in one place)
            \end{itemize}
        \end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Set up folders for code week by week (eg. notebook 1, ...), another folder for code outputs (eg. week 1, ...), and another folder for academic papers
            \end{itemize}
        \end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Downloaded Zotero (for easy referencing) but still having linked this to my GitHub!
            \end{itemize}
        \end{itemize}

\subsection{Wednesday 21st January 2026}

\color{black}
\begin{itemize}
\item Finished setting up my GitHub repository
\end{itemize}
\begin{itemize}
            \begin{itemize}
                \item Organised folders, etc.
            \end{itemize}
        \end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Added a rough README.md
            \end{itemize}
        \end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Downloaded a plug-in for Zotero which linked references to my overleaf documents using GitHub and updates automatically
            \end{itemize}
        \end{itemize}
\begin{itemize}
    \item Ran cookbook codes
\end{itemize}
    \begin{itemize}
            \item Location: /Users/gracetait/shproject/meer21cm/docs/source/cookbook
        \end{itemize}
    \begin{itemize}
        \begin{itemize}
            \item Found the theory and data analysis code. Didn't run the data analysis code because I don't have any data to run yet and didn't run the mock recipes either. Ran the theory recipes below. Didn't really dive too deep with these codes though but I know they will be useful later. Just used this to get a grasp on navigating through meer21cm package I think.
        \end{itemize}
    \end{itemize}
    \begin{itemize}
        \begin{itemize}
            \begin{itemize}
                \item Effect of weights in the power spectrum estimator and the modelling
            \end{itemize}
        \end{itemize}
        \begin{itemize}
            \begin{itemize}
                \item On the importance of having the correct survey dimension and k-sampling for intensity mapping
            \end{itemize}
            \begin{itemize}
                \item Mode-mixing due to PCA
            \end{itemize}
            \begin{itemize}
                \item Adding observational effects in your model power spectrum \color{black}
            \end{itemize}
        \end{itemize}
        
    \item Ran notebook 1 code and completed the task
    \begin{itemize}
        \item This notebook generates a neutral hydrogen map from theory. 
        \item A function "MockSimulation" is called, you input coordinate ranges and a seed which is used to generate the simulation. Plotting this using "\texttt{plot\_map}" gives an image of the survey area and frequency range. The frequency range gives the cosmological redshift. This can be seen in Figure 1.

                        \begin{figure}[hbt!]
            \centering
            \includegraphics[width=0.5\linewidth]{outputs//week2/frequency_vs_redshift.pdf}
            \caption{Frequency versus redshift.}
            \label{fig:placeholder}
        \end{figure}
        
        \item We can generate some input to put into the model and this can be plotted using "\texttt{plot\_map}" again. The survey area before and after generating some input can be seen in Figures 2 and 3.

        \begin{figure}[hbt!]
            \centering
            % Left Side: Empty Map
            \begin{minipage}{0.4\textwidth}
                \centering
                \includegraphics[width=\linewidth]{outputs/week2/empty_hydrogen_map.pdf}
                \caption{This is the survey area without any input.}
                \label{fig:empty_map}
            \end{minipage}
            \hfill % This pushes the two minipages to the far left and right
            % Right Side: Hydrogen Signal Map
            \begin{minipage}{0.4\textwidth}
                \centering
                \includegraphics[width=\linewidth]{outputs/week2/hydrogen_map.pdf}
                \caption{This is the survey area but it does not reflect the real observation. It is just the 21cm signal.}
                \label{fig:hydrogen_signal}
            \end{minipage}
        \end{figure}

        \item The information we want to extract from this map is the power spectrum which tells us how matter distributes in the Universe. This can be seen in Figure 4.

        \begin{figure}[hbt!]
            \centering
            \includegraphics[width=0.4\linewidth]{outputs//week2/power_spectrum_from_hydrogen_map.pdf}
            \caption{The power spectrum from the input data which tells us about how matter distributes in the Universe.}
            \label{fig:placeholder}
        \end{figure}

        \item The power spectrum can be obtained using a function and then we average the power spectrum into a 1D spectrum which we can compare with the input theory and plot on a graph. This plot can be seen in Figure 5.

        \begin{figure}[hbt!]
            \centering
            % Left: Single Realization
            \begin{minipage}{0.48\textwidth}
                \centering
                \includegraphics[width=\linewidth]{outputs/week2/1D_power_spectrum_neutral_hydrogen_map_1_realisations.pdf}
                \caption{1D power spectrum with the input theory and mock data over-plotted. This was ran for just one realisation.}
                \label{fig:power_spec_single}
            \end{minipage}
            \hfill
            % Right: Placeholder for the 100 realizations plot
            \begin{minipage}{0.48\textwidth}
                \centering
                % Replace 'example-image' with your new 100-realization plot filename
                \includegraphics[width=\linewidth]{outputs//week2/1D_power_spectrum_neutral_hydrogen_map_100_realisations.pdf} 
                \caption{1D power spectrum with the input theory and mock data over-plotted. This was ran for 100 realisations, with the error bars being the standard deviations.}
                \label{fig:power_spec_multi}
            \end{minipage}
        \end{figure}
        
        \item Task: All of the described above is one realization of the mock which is simulated using a set seed. Write a function which will take in a seed value and return data. Plot this on a graph comparing the mock and theory with the standard deviation of the 100 realizations as the error bars. 
        
        \item I found doing this task to go pretty well. All of the code was already written so I jsut complied it into a function with took in different seeds. And then I generated an array of integers from 1 to 100 and then passed in each value into the function using a loop, saving the output into a list. I then took the mean and standard deviation and plotted them.

        \item The result of this function and this task can be seen in Figure 6.

        \item I also created a function which helps me save different plots to certain folders in my senior honours directory. It takes in the plot, week number (so I can save the image depending on which week I am in for my project, and the name I want to give my image). It has helped speed up the image saving process!
        
    \end{itemize}
\end{itemize}

\subsection{Thursday 22nd January 2026}

\subsubsection{Meeting 2: Zhaoting and Alkistis (Zoom)}

    \item Discussed any questions I had on the papers
    \begin{itemize}
        \item I didn't manage to read all of the papers since it took a bit longer than I anticipated since I was researching anything I didn't understand and there was a decent amount I didn't understand. 
        \item Mainly discussed questions on the "Gaussian Process Regression for foreground removal in HI intensity mapping experiments" paper.
        \item Questions asked and answers (from what I remember, might be slightly incorrect)
        \begin{itemize}
            \item Will I be using both GPR and PCA and how? 
            \begin{itemize}
                \item I will be using both. First, I will be using PCA because it is more straight forward and then I will be using GPR. I think I will be comparing the results obtained by the two.
            \end{itemize}
        \item In Figure 1, why are there "speckles" in the background for the HI signal and Noise?
        \begin{itemize}
            \item I think this is due to statistical noise? When we remove the foreground to obtain the HI signal, we can't perfectly remove it? I think the speckles go away as we do more and more observations?
            \item \color{red} Maybe ask about this again because I don't fully understand \color{black}
        \end{itemize}
        \item In Figure 1, why is the HI signal a thick fuzzy line and the Noise a thin line?
        \begin{itemize}
            \item The HI signal is redshifted so the original source frequency is broadened. When we measure this frequency, that means it is correlated with the frequencies directly next to it. Hence, broad and thick lines. 
            \item The thin line from the noise graph means that the frequency is not correlated with any other frequency but itself.
        \end{itemize}
        \item What are frequency channels?
        \begin{itemize}
            \item It's just the value of frequency? 
        \end{itemize}
        \end{itemize}
    \end{itemize}
\item Went over what I did with the task I did in notebook 1.
\begin{itemize}
    \item Everything looks good. The whole loop with the 100 realisations takes less than 5 minutes to run. 
    \item To make things run faster, especially when I will be adding more things which will likely take longer to run, I can do something for multiprocessing. I can parallelise a for-loop using multiprocessing pool. So, apply this to my code in notebook 1.
    \item Link to an example of this: https://www.kaggle.com/discussions/questions-and-answers/169607 
\end{itemize}
\item Notebook 1 currently just uses the 21cm signal which does not reflect the real observation. That is why the mock 1D Power Spectrum closely matches the theory 1D Power Spectrum. 
\begin{itemize}
    \item In reality, a real observation would include the telescope beam smoothing, foreground contamination, thermal noise and more potential systematics.
    \item As the project continues, we will be adding different contributions and using PCA and GPR which will make the mock data differ from the theory data. 
    \item So, we will be coming back to using this function throughout the project to see how the different contributions make the mock data differ from the theory data.
\end{itemize}
\item Also didn't have Zoom downloaded on my laptop.  Make sure to have it downloaded before our next meeting just in case.
\item For our next meeting (next Thursday)
\begin{itemize}
    \item Zhaoting will send me notebook 2 on Monday so can work on that next week.
    \item Apply the multiprocessing pool to my for-loop in notebook 1
    \begin{itemize}
        \item \color{red} Note down how long it takes to run before and after! \color{black}
        \begin{itemize}
            \item Before: 3 minutes 15 seconds
        \end{itemize}
    \end{itemize}
    \item Finish reading all the papers!
\end{itemize}